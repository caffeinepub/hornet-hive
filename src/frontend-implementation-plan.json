{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Handle duplicate post likes gracefully in the UI",
  "requirements": [
    {
      "id": "REQ-2",
      "summary": "Show a user-facing message when the backend rejects a duplicate post-like, and ensure the Like button exits loading state.",
      "acceptanceCriteria": [
        "When a user taps Like on the same post more than once and the backend rejects it, the UI shows a toast (or equivalent) stating the user has already liked the post.",
        "The Like button returns to a non-loading state after the duplicate-like attempt completes.",
        "Non-duplicate errors during post like show a generic English error message (e.g., \"Failed to like post. Please try again.\")."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/feed/PostCard.tsx",
          "operation": "modify",
          "description": "Update the post Like handler to use an awaited mutation (e.g., mutateAsync) with try/catch and show toast feedback using the existing Sonner toast system: if the caught error message contains \"already liked\" (or similar duplicate-like indicator), show an English message like \"You have already liked this post.\"; otherwise show a generic message like \"Failed to like post. Please try again.\" Ensure the Like button is re-enabled after completion (success or error) by relying on mutation pending state and/or an explicit local loading flag."
        }
      ]
    }
  ]
}