{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Show duplicate comment-like errors in UI",
  "requirements": [
    {
      "id": "REQ-2",
      "summary": "Display a clear English UI error when the backend rejects a duplicate like on a comment, without breaking interaction with the feed.",
      "acceptanceCriteria": [
        "If the backend rejects a duplicate comment-like attempt, the user sees an English error message (e.g., via toast or an inline alert) indicating they already liked the comment.",
        "The UI remains responsive after the error (the user can continue browsing/liking other comments)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/feed/CommentsThread.tsx",
          "operation": "modify",
          "description": "Handle errors from liking a comment by switching to an async like handler (e.g., mutateAsync + try/catch) and surfacing a user-facing English message when the call fails; map the backend duplicate-like trap message to a stable English message such as \"You have already liked this comment.\" and ensure the rest of the thread remains usable after the error."
        },
        {
          "path": "frontend/src/hooks/useQueries.ts",
          "operation": "modify",
          "description": "Adjust the comment-like mutation behavior to support UI error surfacing (e.g., ensure errors are not swallowed and that cache invalidation only happens on success) so that duplicate-like failures can be displayed reliably while keeping the UI responsive."
        }
      ]
    }
  ]
}