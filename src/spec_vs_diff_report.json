{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-13T09:43:58.556Z",
  "summary": "Implemented a new wrapper hook (useActorStatus) to surface actor initialization loading/error state and normalized error details, and updated bootstrap/profile query flow to prefer actor-init errors and add a watchdog timeout. However, the diff summary does not show a complete/explicit implementation of the BootstrapErrorScreen Retry action that forces fresh actor initialization and then refetches the caller profile.",
  "missing_requirements": [
    {
      "id": "REQ-3",
      "requirement": "Make the Retry action on the bootstrap error screen reliably recover by forcing a fresh actor initialization and then re-running the profile fetch without a full reload.",
      "reason": "Although useActorStatus exposes retryActorInit() that removes/refetches the actor query, the provided diff summary does not show the Retry button being wired to (1) call retryActorInit and (2) refetch/invalidate the caller profile query so that profile loading is re-attempted after actor recovery. App.tsx is truncated before showing the BootstrapErrorScreen onRetry implementation, and useGetCallerUserProfile does not add any explicit 'retry' helper that coordinates actor re-init + profile refetch.",
      "evidence": [
        "frontend/src/hooks/useActorStatus.ts",
        "frontend/src/hooks/useQueries.ts",
        "frontend/src/App.tsx (truncated)",
        "frontend/src/components/auth/BootstrapErrorScreen.tsx (onRetry prop only; no logic shown)"
      ]
    }
  ],
  "hallucinated_features": [],
  "confidence": 0.62,
  "changed_files": [
    "frontend-file-summaries.txt",
    "frontend/src/App.tsx",
    "frontend/src/components/auth/BootstrapErrorScreen.tsx",
    "frontend/src/hooks/useActorStatus.ts",
    "frontend/src/hooks/useQueries.ts",
    "frontend/src/utils/actorInitError.ts",
    "project_state.json"
  ]
}